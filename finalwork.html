<!doctype html>
<html>
 <head>
  <meta charset="utf-8">
  <title>Video Watcher</title>
  <link rel="stylesheet" type="text/css" href="http://teaching-materials.org/ajax/lib/bootstrap.css">
 </head>
 <body>

<div class="container">

 <div class="row">
   <div class="span12">
    <h2 class="page-header">Best Videos Ever ‚ù§</h1>
   </div>
 </div>

 <div class="row">
   <div class="span3">
     <ul id="videos-list">
    </ul>
   </div>
   <div class="span9" id="video-watcher">
   </div>
 </div>

 <div style="text-align:center; margin-top: 30px; clear:both;">
  <a href="http://info.flagcounter.com/nEFy"><img src="http://s04.flagcounter.com/count/nEFy/bg_FFFFFF/txt_000000/border_CCCCCC/columns_2/maxflags_12/viewers_0/labels_0/pageviews_0/flags_0/" alt="Flag Counter" border="0"></a>
</div>

</div>



 <script type="text/javascript" src="http://teaching-materials.org/ajax/lib/youtube.js"></script>
 <script type="text/javascript" src="http://teaching-materials.org/ajax/lib/jquery.min.js"></script>
 <script>

 function addVideoToList(video) {
    var videoLink = $('<a>');
    videoLink.append(video.title);
    var linkUrl = videoLink.attr('href');
    var thumbnailUrl = youtube.generateThumbnailUrl(video.youtubeId);
    var thumbnailImg = $('<img>');
    thumbnailImg.attr('src', thumbnailUrl);
    videoLink.append(thumbnailImg);

    videoLink.on('click', function(e) {
        e.preventDefault();
        var videoTitle = $('<h2>');
        videoTitle.html(video.title + ' <small>' + video.author + '</small>');
        var videoEmbed = $('<iframe></iframe>');
        videoEmbed.attr('src', youtube.generateEmbedUrl(video.youtubeId) + '?autoplay=1');
        videoEmbed.attr('width', 560);
        videoEmbed.attr('height', 315);

        var videoRating = $('<img></img>');
        videoRating.attr('src', 'https://chart.googleapis.com/chart?chs=225x125&cht=gom&chd=t:' + video.rating);
         //you get the above url from going to the api site and right clicking and copy url and just modify the ending slightly.  then we are adding 2 strings together, string concatination (the url and the video rating...(which comes from down below in var videos = and then attach the rating )), then append the videoRating var to the var videoWatcher below

        // var chartRating = $('<img></img>');
        // chartRating.attr('src', 'https://chart.googleapis.com/chart?cht=bhs&chs=200x125&chd=s:ello&chco=4d89f9:' + ??.rating);
        //need to add all 4 of the ratings to this chart!!! think about this more!!

        var videoWatcher = $('#video-watcher');
        videoWatcher.hide();
        videoWatcher.empty();
        videoWatcher.append(videoTitle);
        videoWatcher.append(videoEmbed);
        videoWatcher.append(videoRating);  //this is where we append the ratings to the videowatcher
        videoWatcher.fadeIn();
    });

    var videoItem = $('<li>');
    videoItem.append(videoLink);
    $('#videos-list').append(videoItem);
 }

var videos = [
  {"youtubeId": "TddFnTB_7IM",
    "title": "Trip through the 80s",
    "author": "meliberty",
    "rating": 90
  },
  {"youtubeId": "HwSKkKrUzUk",
    "title": "Circle of Life",
    "author": "parkerjademerce",
    "rating": 70
  },
  {"youtubeId": "il2IrgFHfsg",
    "title": "The Ooooh Cat",
    "author": "RnBTree",
    "rating": 60
  },
  {"youtubeId": "epUk3T2Kfno",
    "title": "Otters Holding Hands",
    "author": "cynthiaholmes",
    "rating": 100
  }
]

for (var i = 0; i < videos.length; i++) {
   addVideoToList(videos[i]);
}

 </script>
 </body>
</html>